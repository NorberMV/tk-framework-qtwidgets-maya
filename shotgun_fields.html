



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ShotGrid Field Widgets &mdash; tk-framework-qtwidgets master documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ShotGrid Menus" href="shotgun_menus.html" />
    <link rel="prev" title="Screen Capture Widget" href="screen_grab.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
    <a href='http://developer.shotgridsoftware.com'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
            <a href="index.html" class="icon icon-home"> tk-framework-qtwidgets
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="activity_stream.html">ShotGrid Activity Stream Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="elided_label.html">Auto-Elide label</a></li>
<li class="toctree-l1"><a class="reference internal" href="search_completer.html">ShotGrid Search Completers</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_search_widget.html">ShotGrid Search Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="context_widget.html">Context Selector Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="delegates.html">Delegates</a></li>
<li class="toctree-l1"><a class="reference internal" href="filtering.html">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="help_screen.html">Help Screen Popup</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Model Related Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="navigation.html">Navigation Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="note_input_widget.html">Shotgun Note Input Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="overlay_widget.html">Text Overlay Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="playback_label.html">ShotGrid Playback Label Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_grab.html">Screen Capture Widget</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ShotGrid Field Widgets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#field-widget-manager">Field Widget Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="#field-widget-metaclass">Field Widget Metaclass</a></li>
<li class="toctree-l2"><a class="reference internal" href="#field-widgets">Field Widgets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#checkbox">Checkbox</a></li>
<li class="toctree-l3"><a class="reference internal" href="#currency">Currency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date-and-time">Date And Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date">Date</a></li>
<li class="toctree-l3"><a class="reference internal" href="#duration">Duration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#entity">Entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#file-link">File Link</a></li>
<li class="toctree-l3"><a class="reference internal" href="#float">Float</a></li>
<li class="toctree-l3"><a class="reference internal" href="#footage">Footage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#image">Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list">List</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multi-entity">Multi Entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#number">Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="#percent">Percent</a></li>
<li class="toctree-l3"><a class="reference internal" href="#status-list">Status List</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tags">Tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timecode">Timecode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#url-template">Url Template</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#editable-widgets">Editable Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#base-classes">Base Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bubble-edit-widget">Bubble Edit Widget</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bubble-widget">Bubble Widget</a></li>
<li class="toctree-l3"><a class="reference internal" href="#label-base-widget">Label Base Widget</a></li>
<li class="toctree-l3"><a class="reference internal" href="#elided-label-base-widget">Elided Label Base Widget</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#field-widget-delegates">Field Widget Delegates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-code">Example Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#todos-known-issues">TODOs &amp; Known Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_menus.html">ShotGrid Menus</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_widget.html">Shotgun Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="spinner_widget.html">Spinner Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="version_details.html">ShotGrid Version Details Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">View Related Classes</a></li>
</ul>

            
          

    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-framework-qtwidgets</b> master.<br>
    
        This documentation is part of the ShotGrid Pipeline Toolkit.
    
    For more information, please visit
    <a class=custom_post_menu href='https://developer.shotgridsoftware.com'>The ShotGrid developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-framework-qtwidgets'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tk-framework-qtwidgets</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>ShotGrid Field Widgets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shotgrid-field-widgets">
<h1>ShotGrid Field Widgets<a class="headerlink" href="#shotgrid-field-widgets" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">shotgun_fields</span></code> module provides access to Qt widgets that correspond
to the field types available on ShotGrid entities. The purpose of these widgets
is to make it easier to build apps that interact with ShotGrid in a standardized
way.</p>
<img alt="_images/shotgun_fields.png" src="_images/shotgun_fields.png" />
</div>
<hr class="docutils" />
<div class="section" id="field-widget-manager">
<h2>Field Widget Manager<a class="headerlink" href="#field-widget-manager" title="Permalink to this headline">¶</a></h2>
<p>Access to individual field widgets is provided by the <code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunFieldManager</span></code>
factory class via the <code class="docutils literal notranslate"><span class="pre">create_widget()</span></code> method. Additional convenience methods
are avaialble on the class for creating delegates and labels corresponding to the
supplied ShotGrid entity type and field.</p>
</div>
<hr class="docutils" />
<div class="section" id="field-widget-metaclass">
<h2>Field Widget Metaclass<a class="headerlink" href="#field-widget-metaclass" title="Permalink to this headline">¶</a></h2>
<p>All field widgets use the <code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunFieldMeta</span></code> class as their <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code>
in order to provide a consistent API across widgets of different types and to
register imported classes with the <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/shotgun_fields.html#shotgun_fields.ShotgunFieldManager" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunFieldManager</span></code></a>.</p>
</div>
<hr class="docutils" />
<div class="section" id="field-widgets">
<h2>Field Widgets<a class="headerlink" href="#field-widgets" title="Permalink to this headline">¶</a></h2>
<p>The following is a list of all of the widgets available by default via the
<code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunFieldManager</span></code>. Instances of these classes are created by calling
the manager’s <code class="docutils literal notranslate"><span class="pre">create_widget()</span></code> method.</p>
<hr class="docutils" />
<div class="section" id="checkbox">
<h3>Checkbox<a class="headerlink" href="#checkbox" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">CheckBoxWidget</span></code> class serves as both editor and display for <code class="docutils literal notranslate"><span class="pre">checkbox</span></code>
field types in ShotGrid. When requested as a <code class="docutils literal notranslate"><span class="pre">DISPLAY</span></code> type from a field manager
instance, the returned widget will simply be disabled.</p>
<img alt="_images/field_checkbox.png" src="_images/field_checkbox.png" />
</div>
<hr class="docutils" />
<div class="section" id="currency">
<h3>Currency<a class="headerlink" href="#currency" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_currency.png" src="_images/field_currency.png" />
</div>
<hr class="docutils" />
<div class="section" id="date-and-time">
<h3>Date And Time<a class="headerlink" href="#date-and-time" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_datetime.png" src="_images/field_datetime.png" />
</div>
<hr class="docutils" />
<div class="section" id="date">
<h3>Date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_date.png" src="_images/field_date.png" />
</div>
<hr class="docutils" />
<div class="section" id="duration">
<h3>Duration<a class="headerlink" href="#duration" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There are no widgets available for the <code class="docutils literal notranslate"><span class="pre">duration</span></code> field yet since there
is not yet API support for display options like hours vs. days, numbers of
hours in a workday, etc.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="entity">
<h3>Entity<a class="headerlink" href="#entity" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_entity.png" src="_images/field_entity.png" />
</div>
<hr class="docutils" />
<div class="section" id="file-link">
<h3>File Link<a class="headerlink" href="#file-link" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_file_link.png" src="_images/field_file_link.png" />
</div>
<hr class="docutils" />
<div class="section" id="float">
<h3>Float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_float.png" src="_images/field_float.png" />
</div>
<hr class="docutils" />
<div class="section" id="footage">
<h3>Footage<a class="headerlink" href="#footage" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_footage.png" src="_images/field_footage.png" />
</div>
<hr class="docutils" />
<div class="section" id="image">
<h3>Image<a class="headerlink" href="#image" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_image.png" src="_images/field_image.png" />
</div>
<hr class="docutils" />
<div class="section" id="list">
<h3>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_list.png" src="_images/field_list.png" />
</div>
<hr class="docutils" />
<div class="section" id="multi-entity">
<h3>Multi Entity<a class="headerlink" href="#multi-entity" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_multi_entity.png" src="_images/field_multi_entity.png" />
</div>
<hr class="docutils" />
<div class="section" id="number">
<h3>Number<a class="headerlink" href="#number" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_number.png" src="_images/field_number.png" />
</div>
<hr class="docutils" />
<div class="section" id="percent">
<h3>Percent<a class="headerlink" href="#percent" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_percent.png" src="_images/field_percent.png" />
</div>
<hr class="docutils" />
<div class="section" id="status-list">
<h3>Status List<a class="headerlink" href="#status-list" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_status_list.png" src="_images/field_status_list.png" />
</div>
<hr class="docutils" />
<div class="section" id="tags">
<h3>Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_tags.png" src="_images/field_tags.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no editor widget for <code class="docutils literal notranslate"><span class="pre">tags</span></code> because the python API does
not currently support editing fields of this type.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="text">
<h3>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_text.png" src="_images/field_text.png" />
</div>
<hr class="docutils" />
<div class="section" id="timecode">
<h3>Timecode<a class="headerlink" href="#timecode" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There are no widgets available for the <code class="docutils literal notranslate"><span class="pre">timecode</span></code> field yet since there
is not yet API support for an associated <code class="docutils literal notranslate"><span class="pre">fps</span></code> field.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="url-template">
<h3>Url Template<a class="headerlink" href="#url-template" title="Permalink to this headline">¶</a></h3>
<img alt="_images/field_url_template.png" src="_images/field_url_template.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There is no editor widget for <code class="docutils literal notranslate"><span class="pre">url_templates</span></code> because the python API does
not currently support editing fields of this type.</p>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="editable-widgets">
<h2>Editable Widgets<a class="headerlink" href="#editable-widgets" title="Permalink to this headline">¶</a></h2>
<p>Requesting the <code class="docutils literal notranslate"><span class="pre">EDITABLE</span></code> type for a field via the manager will return a
<code class="docutils literal notranslate"><span class="pre">ShotgunFieldEditable</span></code> instance. This widget is a stacked widget that includes
both the display and editor currency widgets. You can see examples of the
editable widgets at the bottom of each screenshot above.</p>
<p>Clicking on the pencil icon while hovering over the display widget will swap
the display widget for the editor. When the editor is visible, clicking the
<code class="docutils literal notranslate"><span class="pre">X</span></code> icon will switch back to the display widget and revert any changes made
in the editor. If the check mark icon is clicked, the changes will be applied
and the the display widget will be shown with the new value.</p>
<p>If an <code class="docutils literal notranslate"><span class="pre">EDITABLE</span></code> type is requested for a field that has no registered editor
widget, then an instance of <code class="docutils literal notranslate"><span class="pre">ShotgunFieldNotEditable</span></code> will be returned. This
class displays the editor with an additional icon when hovered that indicates
that the field is not editable.</p>
</div>
<hr class="docutils" />
<div class="section" id="base-classes">
<h2>Base Classes<a class="headerlink" href="#base-classes" title="Permalink to this headline">¶</a></h2>
<p>The following classes are used as base classes in one or more field widgets and
may prove useful when diving into the details of a widget’s implementation.</p>
<div class="section" id="bubble-edit-widget">
<h3>Bubble Edit Widget<a class="headerlink" href="#bubble-edit-widget" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">BubbleEditWidget</span></code> class is used as a base class for editing a list of
objects. The <code class="xref py py-class docutils literal notranslate"><span class="pre">MultiEntityEditorWidget</span></code> is a subclass of the
<code class="docutils literal notranslate"><span class="pre">BubbleEditWidget</span></code>.</p>
</div>
<hr class="docutils" />
<div class="section" id="bubble-widget">
<h3>Bubble Widget<a class="headerlink" href="#bubble-widget" title="Permalink to this headline">¶</a></h3>
<p>This class represents individual “bubbles” managed within a <code class="docutils literal notranslate"><span class="pre">BubbleEditWidget</span></code>
subclasses.</p>
</div>
<hr class="docutils" />
<div class="section" id="label-base-widget">
<h3>Label Base Widget<a class="headerlink" href="#label-base-widget" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">LabelBaseWidget</span></code> provides a very simple base class for many of the display
widgets above. It provides the basic interface required by classes using the
<code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunFieldMeta</span></code> <code class="docutils literal notranslate"><span class="pre">__metaclass__</span></code>.</p>
</div>
<hr class="docutils" />
<div class="section" id="elided-label-base-widget">
<h3>Elided Label Base Widget<a class="headerlink" href="#elided-label-base-widget" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">ElidedLabelBaseWidget</span></code> is nearly identical to the <code class="docutils literal notranslate"><span class="pre">LabelBaseWidget</span></code>
except that it will elide its display text when the text is too long to display
in the layout.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="field-widget-delegates">
<h2>Field Widget Delegates<a class="headerlink" href="#field-widget-delegates" title="Permalink to this headline">¶</a></h2>
</div>
<hr class="docutils" />
<div class="section" id="example-code">
<h2>Example Code<a class="headerlink" href="#example-code" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Populate a QTableWidget with the results of a ShotGrid query</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><span class="k">class</span> <span class="nc">ExampleTableWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># grab the current app bundle for use later</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_app</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_bundle</span><span class="p">()</span>

        <span class="c1"># initialize the field manager</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">_fields_manager</span> <span class="o">=</span> <span class="n">shotgun_fields</span><span class="o">.</span><span class="n">ShotgunFieldManager</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">_fields_manager</span><span class="o">.</span><span class="n">initialized</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">populate_dialog</span><span class="p">)</span>
</span><span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">_fields_manager</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</span>
    <span class="k">def</span> <span class="nf">populate_dialog</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">entity_type</span> <span class="o">=</span> <span class="s2">&quot;Version&quot;</span>
        <span class="n">entity_query</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># grab all of the fields on the entity type</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_app</span><span class="o">.</span><span class="n">shotgun</span><span class="o">.</span><span class="n">schema_field_read</span><span class="p">(</span><span class="n">entity_type</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="c1"># query ShotGrid for the entities to display</span>
        <span class="n">entities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_app</span><span class="o">.</span><span class="n">shotgun</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">entity_query</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="n">fields</span><span class="p">)</span>

        <span class="c1"># set the headers for each field</span>
        <span class="n">field_labels</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
            <span class="n">field_labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shotgun_globals</span><span class="o">.</span><span class="n">get_field_display_name</span><span class="p">(</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">field</span><span class="p">))</span>

        <span class="c1"># create the table that will display all the data</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QTableWidget</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">entities</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">fields</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setHorizontalHeaderLabels</span><span class="p">(</span><span class="n">field_labels</span><span class="p">)</span>

        <span class="c1"># create display widgets only</span>
        <span class="n">widget_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields_manager</span><span class="o">.</span><span class="n">DISPLAY</span>

        <span class="c1"># populate the table with the data in the entities returned by the query above</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">entity</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">entities</span><span class="p">):</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fields</span><span class="p">):</span>
                <span class="c1"># create the widget for each field</span>
<span class="hll">                <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fields_manager</span><span class="o">.</span><span class="n">create_widget</span><span class="p">(</span>
</span><span class="hll">                    <span class="n">entity_type</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">widget_type</span><span class="p">,</span> <span class="n">entity</span><span class="p">)</span>
</span>                <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1"># backup in case the manager does not understand this field type</span>
                    <span class="n">widget</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;No widget&quot;</span><span class="p">)</span>

                <span class="c1"># put the widget into the table</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span>

        <span class="c1"># update widths and setup the table to be displayed</span>
        <span class="n">table</span><span class="o">.</span><span class="n">resizeColumnsToContents</span><span class="p">()</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</pre></div></td></tr></table></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Display data from a ShotgunModel in a TableView</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><span class="k">class</span> <span class="nc">ExampleTableView</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

        <span class="c1"># grab a field manager to get the delegate</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">fields_manager</span> <span class="o">=</span> <span class="n">shotgun_fields</span><span class="o">.</span><span class="n">ShotgunFieldManager</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">fields_manager</span><span class="o">.</span><span class="n">initialized</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_initialized</span><span class="p">)</span>
</span><span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">fields_manager</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</span>
    <span class="k">def</span> <span class="nf">on_initialized</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">entity_type</span> <span class="o">=</span> <span class="s2">&quot;Version&quot;</span>

        <span class="c1"># grab all displayable fields on the entity type, with &quot;code&quot; first</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="n">shotgun_globals</span><span class="o">.</span><span class="n">get_entity_fields</span><span class="p">(</span><span class="n">entity_type</span><span class="p">)</span>
<span class="hll">        <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fields_manager</span><span class="o">.</span><span class="n">supported_fields</span><span class="p">(</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">fields</span><span class="p">)</span>
</span>        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;code&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fields</span> <span class="k">if</span> <span class="n">f</span> <span class="o">!=</span> <span class="s2">&quot;code&quot;</span><span class="p">]</span>

        <span class="c1"># setup the model and view</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">shotgun_model</span><span class="o">.</span><span class="n">SimpleShotgunModel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">entity_type</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="p">[],</span> <span class="n">fields</span><span class="o">=</span><span class="n">fields</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">fields</span><span class="p">)</span>
<span class="hll">        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">views</span><span class="o">.</span><span class="n">ShotgunTableView</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fields_manager</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</span>        <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">)</span>

        <span class="c1"># and layout the dialog</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</pre></div></td></tr></table></div>
</div>
</div>
</div>
<div class="section" id="todos-known-issues">
<h2>TODOs &amp; Known Issues<a class="headerlink" href="#todos-known-issues" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Bubble widget does not display characters properly in some scenarios</li>
<li>Timecode &amp; Duration widgets are on hold until python API changes make them feasible</li>
<li>Tag edit widget partially done but also awaiting python API edit ability</li>
<li><code class="docutils literal notranslate"><span class="pre">ElidedLabel</span></code> causes draw lagging when used in editable widget in Grid/Form layout</li>
<li>The note input widget should be updated to use the global completer</li>
<li>The status list widget editor should also use colors for visual hint like display widget</li>
<li>ShotGrid model to auto update SG on changes still to come</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="shotgun_menus.html" class="btn btn-neutral float-right" title="ShotGrid Menus" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="screen_grab.html" class="btn btn-neutral float-left" title="Screen Capture Widget" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Autodesk

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-opt/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>