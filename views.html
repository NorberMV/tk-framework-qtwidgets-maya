



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>View Related Classes &mdash; tk-framework-qtwidgets master documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="ShotGrid Version Details Widget" href="version_details.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
    <a href='http://developer.shotgridsoftware.com'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
            <a href="index.html" class="icon icon-home"> tk-framework-qtwidgets
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="activity_stream.html">ShotGrid Activity Stream Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="elided_label.html">Auto-Elide label</a></li>
<li class="toctree-l1"><a class="reference internal" href="search_completer.html">ShotGrid Search Completers</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_search_widget.html">ShotGrid Search Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="context_widget.html">Context Selector Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="delegates.html">Delegates</a></li>
<li class="toctree-l1"><a class="reference internal" href="filtering.html">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="help_screen.html">Help Screen Popup</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Model Related Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="navigation.html">Navigation Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="note_input_widget.html">Shotgun Note Input Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="overlay_widget.html">Text Overlay Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="playback_label.html">ShotGrid Playback Label Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="screen_grab.html">Screen Capture Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_fields.html">ShotGrid Field Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_menus.html">ShotGrid Menus</a></li>
<li class="toctree-l1"><a class="reference internal" href="shotgun_widget.html">Shotgun Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="spinner_widget.html">Spinner Widget</a></li>
<li class="toctree-l1"><a class="reference internal" href="version_details.html">ShotGrid Version Details Widget</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">View Related Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#qt-widget-delegate-system">QT Widget Delegate System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#widgetdelegate">WidgetDelegate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#editselectedwidgetdelegate">EditSelectedWidgetDelegate</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#grouped-list-view">Grouped List View</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#groupedlistview">GroupedListView</a></li>
<li class="toctree-l3"><a class="reference internal" href="#groupedlistviewitemdelegate">GroupedListViewItemDelegate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#groupwidgetbase">GroupWidgetBase</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          

    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-framework-qtwidgets</b> master.<br>
    
        This documentation is part of the ShotGrid Pipeline Toolkit.
    
    For more information, please visit
    <a class=custom_post_menu href='https://developer.shotgridsoftware.com'>The ShotGrid developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-framework-qtwidgets'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tk-framework-qtwidgets</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>View Related Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="view-related-classes">
<h1>View Related Classes<a class="headerlink" href="#view-related-classes" title="Permalink to this headline">¶</a></h1>
<p>This module contains various classes related to QT’s MVC model with a focus
on the view side of the data hierarchy.</p>
<div class="section" id="qt-widget-delegate-system">
<h2>QT Widget Delegate System<a class="headerlink" href="#qt-widget-delegate-system" title="Permalink to this headline">¶</a></h2>
<p>The widget delegates module makes it easy to create custom UI experiences that are
using data from the ShotGrid Model.</p>
<p>If you feel that the visuals that you get back from a standard
<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QTreeView.html#PySide.QtGui.QTreeView" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QTreeView</span></code></a> or <a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QListView.html#PySide.QtGui.QListView" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QListView</span></code></a> are not sufficient for your needs,
these view utilities provide a collection of tools to help you quickly build
consistent and nice looking user QT Views. These are typically used in conjunction
with the <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-shotgunutils/shotgun_model.html#shotgun_model.ShotgunModel" title="(in tk-framework-shotgunutils vv5.8.5)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunModel</span></code></a> but this is not a requirement.</p>
<p>The widget delegate helper classes makes it easy to connect a <code class="docutils literal notranslate"><span class="pre">QWidget</span></code> of
your choosing with a QT View. The classes will use your specified
widget as a brush to paint the view is drawn and updated. This allows for full control
of the visual appearance of any view, yet retaining the higher performance
you get in the QT MVC compared to an approach where large widget hierarchies are built up.</p>
<p>QT allows for customization of cell contents inside of its standard view classes through the use of so called
<em>delegate</em> classes (see <a class="reference external" href="http://qt-project.org/doc/qt-4.8/model-view-programming.html#delegate-classes">http://qt-project.org/doc/qt-4.8/model-view-programming.html#delegate-classes</a>),
however this can be cumbersome and difficult to get right. In an attempt to simplify the process of
view customization, the ShotGrid Qt Widgets framework contains classes for making it easy to plugin in standard QT widgets
and use these as “brushes” when QT is drawing its views. You can then quickly produce UI in for example the QT designer,
hook up the data exchange between your model class and the widget in a delegate and quickly have some nice custom
looking user interfaces!</p>
<img alt="_images/widget_classes.png" src="_images/widget_classes.png" />
<p>The principle is that you derive a custom delegate class from the <code class="docutils literal notranslate"><span class="pre">WidgetDelegate</span></code> that is contained in the framework.
This class contains for simple methods that you need to implement. As part of this you can also control the flow of
data from the model into the widget each time it is being drawn, allowing for complex data to be easily passed from
ShotGrid via the model into your widget.</p>
<p>The following example shows some of the basic around using this delegate class with the ShotGrid Model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the shotgun_model and view modules from the corresponding frameworks</span>
<span class="n">shotgun_model</span> <span class="o">=</span> <span class="n">tank</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">import_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-shotgunutils&quot;</span><span class="p">,</span> <span class="s2">&quot;shotgun_model&quot;</span><span class="p">)</span>
<span class="n">shotgun_view</span> <span class="o">=</span> <span class="n">tank</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">import_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-qtwidgets&quot;</span><span class="p">,</span> <span class="s2">&quot;views&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ExampleDelegate</span><span class="p">(</span><span class="n">shotgun_view</span><span class="o">.</span><span class="n">WidgetDelegate</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">view</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">shotgun_view</span><span class="o">.</span><span class="n">WidgetDelegate</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">view</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_create_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the widget to be used when drawing items</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># in this example, we use a simple QLabel to illustrate the principle.</span>
        <span class="c1"># for more complex setups, you typically design a more complex widget</span>
        <span class="c1"># and use this factory method to create it.</span>
        <span class="k">return</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_before_paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">model_index</span><span class="p">,</span> <span class="n">style_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called when a cell is about to be painted.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># now we need to prepare our QLabel &#39;paintbrush&#39; by setting</span>
        <span class="c1"># some of the data members. The data is being provided from</span>
        <span class="c1"># the underlying model via a model index pointer.</span>

        <span class="c1"># note that the widget passed in is typically being reused</span>
        <span class="c1"># across multiple cells in order to avoid creating lots of</span>
        <span class="c1"># widget objects.</span>

        <span class="c1"># get the ShotGrid query data for this model item</span>
        <span class="n">sg_item</span> <span class="o">=</span> <span class="n">shotgun_model</span><span class="o">.</span><span class="n">get_sg_data</span><span class="p">(</span><span class="n">model_index</span><span class="p">)</span>

        <span class="c1"># get the description</span>
        <span class="n">desc_str</span> <span class="o">=</span> <span class="n">sg_item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">)</span>

        <span class="c1"># populate the QLabel with the description data</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">desc_str</span><span class="p">)</span>

        <span class="c1"># QLabel is now ready to be used to paint this object on the screen</span>

    <span class="k">def</span> <span class="nf">_on_before_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">model_index</span><span class="p">,</span> <span class="n">style_options</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called when a cell is being selected.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># the widget object passed in here will not be used as a</span>
        <span class="c1"># paintbrush but is a proper &quot;live&quot; object. This means</span>
        <span class="c1"># that you can have buttons and other objects that a user</span>
        <span class="c1"># can interact with as part of the widget. For items that</span>
        <span class="c1"># are not selected, these buttons will merely be &#39;drawn&#39;</span>
        <span class="c1"># so they cannot for example exhibit any on-hover behavior.</span>

        <span class="c1"># for selected objects however, the widget is live and</span>
        <span class="c1"># can be interacted with. Therefore, the widget object</span>
        <span class="c1"># in to this method is unique and will not be reused</span>
        <span class="c1"># in other places.</span>

        <span class="c1"># do std drawing first</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_on_before_paint</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">model_index</span><span class="p">,</span> <span class="n">style_options</span><span class="p">)</span>

        <span class="c1"># at this point, we can indicate that the widget is</span>
        <span class="c1"># selected, for example by setting the style</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;{background-color: red;}&quot;</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">sizeHint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style_options</span><span class="p">,</span> <span class="n">model_index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Base the size on the icon size property of the view</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># hint to the delegate system how much space our widget needs</span>
        <span class="n">QtCore</span><span class="o">.</span><span class="n">QSize</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="widgetdelegate">
<h3>WidgetDelegate<a class="headerlink" href="#widgetdelegate" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="editselectedwidgetdelegate">
<h3>EditSelectedWidgetDelegate<a class="headerlink" href="#editselectedwidgetdelegate" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="grouped-list-view">
<h2>Grouped List View<a class="headerlink" href="#grouped-list-view" title="Permalink to this headline">¶</a></h2>
<p>The grouped list view offers a visual representation where items are grouped into
collapsible sections.</p>
<img alt="_images/grouped_list_view.png" src="_images/grouped_list_view.png" />
<p>The grouped list view uses the <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/views.html#views.WidgetDelegate" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">WidgetDelegate</span></code></a> system in order to render
the UI. A custom QT view - <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/views.html#views.GroupedListView" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupedListView</span></code></a> - is the main component. The view
expects a tree-like model structure with two levels, a grouping level and a data level.</p>
<p>When the data is loaded in, it will use a special delegate to render the grouping level
of the tree structure. You can customize this delegate easily by providing your own widget.
This widget needs to be able to react to expansion signals sent from the model so that it
can change its appearance when the view decides to expand and contract the section.</p>
<p>The grouping delegate is typically designed as a header-like object. It shouldn’t <em>contain</em>
any of its child items but rather act as a <em>partition</em> between groups. The collapse/expanded
state can for example be indicated by an arrow that is either pointing down or sideways. The
main view logic will take care of hiding any child objects.</p>
<p>If you want to create your own appearance, you can follow these rough steps:</p>
<ul class="simple">
<li>First, design a grouping widget and make sure it derives from <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/views.html#views.GroupWidgetBase" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupWidgetBase</span></code></a>.</li>
<li>Make sure it implements the <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/views.html#views.GroupWidgetBase.set_expanded" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GroupWidgetBase.set_expanded()</span></code></a> for handling its expanded state
and <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/views.html#views.GroupWidgetBase.set_item" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GroupWidgetBase.set_item()</span></code></a> to receive data from the model about what text to display etc.</li>
<li>Now, derive from the <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/views.html#views.GroupedListViewItemDelegate" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupedListViewItemDelegate</span></code></a> class and implement the factory method
<a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-qtwidgets/views.html#views.GroupedListViewItemDelegate.create_group_widget" title="(in tk-framework-qtwidgets vv2.10.4)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GroupedListViewItemDelegate.create_group_widget()</span></code></a> to return your custom grouping widget.</li>
<li>If you want the child items to be rendered via custom widget delegates, you can modify your
derived class at this point to do that too.</li>
<li>Lastly, pass your delegate to the view via the standard QT
<code class="xref py py-meth docutils literal notranslate"><span class="pre">PySide.QtGui.QAbstractItemView.setItemDelegate()</span></code> call to bind it to the view.</li>
</ul>
<div class="section" id="groupedlistview">
<h3>GroupedListView<a class="headerlink" href="#groupedlistview" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="groupedlistviewitemdelegate">
<h3>GroupedListViewItemDelegate<a class="headerlink" href="#groupedlistviewitemdelegate" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="groupwidgetbase">
<h3>GroupWidgetBase<a class="headerlink" href="#groupwidgetbase" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="version_details.html" class="btn btn-neutral float-left" title="ShotGrid Version Details Widget" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Autodesk

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-opt/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>